/*! For license information please see 223.js.LICENSE.txt */
"use strict";(self.webpackChunkkta_utchol=self.webpackChunkkta_utchol||[]).push([[223],{246:(e,t,n)=>{function r(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}function o(e,t){if(e){if("string"==typeof e)return r(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?r(e,t):void 0}}function i(e){return function(e){if(Array.isArray(e))return r(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||o(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function a(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i,a,s=[],u=!0,l=!1;try{if(i=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;u=!1}else for(;!(u=(r=i.call(n)).done)&&(s.push(r.value),s.length!==t);u=!0);}catch(e){l=!0,o=e}finally{try{if(!u&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(l)throw o}}return s}}(e,t)||o(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}n.d(t,{A:()=>M});var s=n(914);function u(e){return u="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},u(e)}function l(e){var t=function(e){if("object"!=u(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var n=t.call(e,"string");if("object"!=u(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==u(t)?t:t+""}function c(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,l(r.key),r)}}function f(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(e){if("string"==typeof e)return d(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?d(e,t):void 0}}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,o=function(){};return{s:o,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,s=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return a=e.done,e},e:function(e){s=!0,i=e},f:function(){try{a||null==n.return||n.return()}finally{if(s)throw i}}}}function d(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}var p=[[2,3,4,5],[2,7],[0,1,3,8],[2,0,4,9],[3,0,5,10],[0,4,11,6],[5,12],[1,8,13],[2,7,14,9],[3,8,10,15],[9,4,11,16],[5,12,10,17],[6,11,18],[7,14],[13,8,15,19],[9,14,16,20],[10,15,17,21],[16,11,18,22],[12,17],[14,20],[15,19,21],[16,20,22],[17,21]],m=[[0,2,8],[0,3,9],[0,4,10],[0,5,11],[1,2,3],[1,7,13],[2,8,14],[2,3,4],[3,9,15],[3,4,5],[3,2,1],[4,3,2],[4,5,6],[4,10,16],[5,4,3],[5,11,17],[6,5,4],[6,12,18],[7,8,9],[8,9,10],[8,2,0],[8,14,19],[9,8,7],[9,10,11],[9,3,0],[9,15,20],[10,4,0],[10,9,8],[10,11,12],[10,16,21],[11,10,9],[11,5,0],[11,17,22],[12,11,10],[13,7,1],[13,14,15],[14,8,2],[14,15,16],[15,14,13],[15,16,17],[15,9,3],[16,15,14],[16,10,4],[16,17,18],[17,16,15],[17,11,5],[18,12,6],[18,17,16],[19,14,8],[19,20,21],[20,15,9],[20,21,22],[21,20,19],[21,16,10],[22,21,20],[22,17,11]],y=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.SideToPlay=1,this.OutsideGoats=15,this.CapturedGoats=0,this.CurrentPosition=["T","E","E","T","T","E","E","E","E","E","E","E","E","E","E","E","E","E","E","E","E","E","E"],this.Hash=0,this.Result=-1}return t=e,(n=[{key:"getLegalActions",value:function(){var e=this,t=[];return 1===this.SideToPlay?this.OutsideGoats>0?this.CurrentPosition.forEach((function(e,n){"E"===e&&t.push([-1,-1,n])})):this.CurrentPosition.forEach((function(n,r){if("G"===n){var o,i=f(p[r]);try{for(i.s();!(o=i.n()).done;){var a=o.value;"E"===e.CurrentPosition[a]&&t.push([r,-1,a])}}catch(e){i.e(e)}finally{i.f()}}})):this.CurrentPosition.forEach((function(n,r){if("T"===n){for(var o=0,i=m;o<i.length;o++){var a=i[o];a[0]===r&&"G"===e.CurrentPosition[a[1]]&&"E"===e.CurrentPosition[a[2]]&&t.push(a)}var s,u=f(p[r]);try{for(u.s();!(s=u.n()).done;){var l=s.value;"E"===e.CurrentPosition[l]&&t.push([r,-1,l])}}catch(e){u.e(e)}finally{u.f()}}})),t}},{key:"generateSuccessor",value:function(t,n){var r,o=new e;if(o.OutsideGoats=this.OutsideGoats,o.Result=this.Result,o.SideToPlay=(this.SideToPlay+1)%2,o.CurrentPosition=i(this.CurrentPosition),o.CapturedGoats=null!==(r=this.CapturedGoats)&&void 0!==r?r:0,-1===t[0])o.OutsideGoats--,o.CurrentPosition[t[2]]="G";else{var a=o.CurrentPosition[t[0]];o.CurrentPosition[t[0]]="E",o.CurrentPosition[t[2]]=a,-1!==t[1]&&(o.CurrentPosition[t[1]]="E",o.CapturedGoats++)}var s=o.OutsideGoats;o.CurrentPosition.forEach((function(e){"G"===e&&s++})),0===s?o.Result=0:0===o.getLegalActions().length&&(o.Result=this.SideToPlay),o.Hash=o.CurrentPosition.reduce((function(e,t){return 4*e+("T"===t?2:"G"===t?1:0)}),0),o.Hash=2*(4*o.Hash+o.OutsideGoats)+o.SideToPlay;for(var u=0,l=n.Pointer-1;l>=0;l--)if(n.InternalArray[l].Hash===o.Hash&&u++,u>1){o.Result=2;break}return o}}])&&c(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),t;var t,n}();function g(e,t){return JSON.stringify(e)===JSON.stringify(t)}var h=n(72),v=n.n(h),b=n(825),S=n.n(b),T=n(659),P=n.n(T),E=n(56),C=n.n(E),x=n(540),A=n.n(x),G=n(113),w=n.n(G),j=n(697),O={};O.styleTagTransform=w(),O.setAttributes=C(),O.insert=P().bind(null,"head"),O.domAPI=S(),O.insertStyleElement=A(),v()(j.A,O),j.A&&j.A.locals&&j.A.locals;const R=n.p+"images/Board.png",I=n.p+"images/Tiger.png",k=n.p+"images/Goat.png",N=n.p+"images/Empty.png";var _=n(848);const M=function(){var e=a((0,s.useState)(null),2),t=e[0],r=e[1],o=a((0,s.useState)(!1),2),u=o[0],l=o[1],c=a((0,s.useState)(-1),2),f=c[0],d=c[1],p=a((0,s.useState)(null),2),m=p[0],h=p[1],v=a((0,s.useState)({pointer:0,states:[]}),2),b=v[0],S=v[1],T=a((0,s.useState)(!1),2),P=T[0],E=T[1],C=(0,s.useRef)(null),x=(0,s.useRef)(null),A=(0,s.useRef)(null),G=(0,s.useRef)(),w=(0,s.useRef)(!1),j=(0,s.useRef)(!1),O=(0,s.useRef)(null);(0,s.useEffect)((function(){console.log("I am isInProgressRef"),w.current=u}),[u]),(0,s.useEffect)((function(){console.log("I am isInProgressRef"),j.current=P}),[P]),(0,s.useEffect)((function(){O.current=m}),[m]),(0,s.useEffect)((function(){console.log("I am New Game resest");var e=new y;r(e),S({pointer:0,states:[e]})}),[]);var M=function(e,t){if(console.log("Move executed:",e),t&&!P){console.log("Curr game state:",{sideToPlay:t.SideToPlay,result:t.Result,outsideGoats:t.OutsideGoats,capturedGoats:t.CapturedGoats});var n=t.generateSuccessor(e,b),o={pointer:b.pointer+1,states:[].concat(i(b.states.slice(0,b.pointer+1)),[n])};if(r(n),S(o),d(-1),console.log("New game state:",{sideToPlay:n.SideToPlay,result:n.Result,outsideGoats:n.OutsideGoats,capturedGoats:n.CapturedGoats}),-1!==n.Result)return console.log("Game over, result:",n.Result),l(!1),void E(!1);L(n)}},L=function(e){var t=O.current,n=w.current;if(null!==t&&n){var r=0===e.SideToPlay,o=1===e.SideToPlay,i=r&&0===t||o&&1===t||2===t;console.log("Turn analysis:",{nextIsTiger:r,nextIsGoat:o,computerPlaysAs:t,shouldComputerPlay:i}),i&&setTimeout((function(){w.current&&!j.current?(console.log("Triggering computer play"),U(e)):console.log("Computer play cancelled - conditions changed")}),100)}else console.log("No computer play needed:",{computerPlaysAs:t,isInProgress:n})},H=function(){C.current&&(C.current.terminate(),C.current=null),A.current&&(clearTimeout(A.current),A.current=null),x.current=null},U=function(e){if(w.current&&!j.current){console.log("Computer play started for side:",0===e.SideToPlay?"Tigers":"Goats"),E(!0),H();var t=new Worker(new URL(n.p+n.u(220),n.b));C.current=t,x.current=null;var r=performance.now();t.onmessage=function(t){console.log("Received message from worker:",t.data);var n=a(t.data,3),o=n[0],i=n[1],s=n[2];i&&Array.isArray(i)&&(e.SideToPlay,x.current=i,console.log("Updated best move:",i));var u=performance.now()-r;G.current&&(G.current.value+="Agent: ".concat(0===e.SideToPlay?"Tigers":"Goats","\n")+"Algorithm: alphaBeta\nDepth: ".concat(s,"\nScore: ").concat(o,"\n")+"Action: ".concat(JSON.stringify(i),"\nTime: ").concat(Math.round(u),"ms\n\n")),s>=20&&(console.log("Depth limit reached, executing move"),W())},t.onerror=function(e){console.error("Worker error:",e),E(!1),H()},t.postMessage([e,"alphabetawithmemory",e.SideToPlay,b]),A.current=setTimeout((function(){console.log("Time limit reached, executing best move"),W(e)}),2e3)}else console.log("Skipping computer play - game not in progress or already thinking")},W=function(e){console.log("ExecuteBestMove called, bestMove:",x.current,"isInProgress:",w.current);var t=x.current;H(),E(!1),t&&w.current?(console.log("Executing computer move:",t),M(t,e)):console.log("No best move found or game not in progress",{bestMove:t,isInProgress:w.current})},B=function(e){P&&(H(),E(!1)),console.log("Starting game with computer as side:",e),l(!0),h(e),setTimeout((function(){var n=t.SideToPlay,r=0===e&&0===n||1===e&&1===n||2===e;console.log("Game start analysis:",{currentSide:n,computerSide:e,shouldComputerStart:r}),r&&(console.log("Computer starts first"),U(t))}),100)};return(0,s.useEffect)((function(){return function(){H()}}),[]),(0,_.jsxs)("div",{className:"game-container",children:[(0,_.jsxs)("div",{className:"board",style:{width:500,height:400},children:[(0,_.jsx)("img",{src:R,alt:"Board",className:"board-img"}),t&&t.CurrentPosition.map((function(e,n){var r,o=a([[0,231],[129,24],[129,148],[129,204],[129,261],[129,310],[129,435],[191,24],[191,116],[191,193],[191,275],[191,342],[191,440],[253,24],[253,85],[253,183],[253,289],[253,376],[253,435],[370,20],[370,160],[370,313],[370,440]][n]||[0,0],2),i=o[0],s=o[1],c="G"===e?"Goat":"T"===e?"Tiger":"Empty",p=f===n;return r="Goat"===c?k:"Tiger"===c?I:N,(0,_.jsx)("img",{src:r,className:"piece ".concat(c," ").concat(p?"selected":""),style:{top:i,left:s,width:40,height:40,border:p?"2px solid yellow":"none"},onClick:function(){return function(e,n){if(u&&!P&&t){var r=t.getLegalActions();if(console.log(r),console.log("New game state In HandleClick:",{sideToPlay:t.SideToPlay,result:t.Result,outsideGoats:t.OutsideGoats,capturedGoats:t.CapturedGoats}),0!==r.length){var o=0===t.SideToPlay,i=1===t.SideToPlay;if(o&&1===m||i&&0===m||null===m)if(i)if(t.OutsideGoats>0){var a=r.some((function(t){return g(t,[-1,-1,e])}));"Empty"===n&&a&&M([-1,-1,e],t)}else"Goat"===n?d(e):"Empty"===n&&f>-1&&r.find((function(t){return g(t,[f,-1,e])}))&&M([f,-1,e],t);else if(o)if("Tiger"===n)console.log("Tiger"),d(e);else if("Empty"===n&&f>-1){console.log("Empty",e,f);var s=r.find((function(t){return t[0]==f&&t[2]==e}));if(console.log("Action",s),s){var c=-1!==s[1]?s[1]:-1;M([f,c,e],t)}}}else l(!1)}}(n,c)}},n)}))]}),(0,_.jsxs)("div",{className:"controls",children:[t&&(0,_.jsxs)("div",{className:"game-info",style:{marginTop:"10px",fontWeight:"bold",fontSize:"18px"},children:[(0,_.jsxs)("p",{children:["Side to Play: ",0===t.SideToPlay?"Tigers":"Goats"]}),(0,_.jsxs)("p",{children:["Goats Left to Place: ",t.OutsideGoats]}),(0,_.jsxs)("p",{children:["Goats Captured: ",t.CapturedGoats]}),-1!==t.Result&&(0,_.jsxs)("p",{style:{color:"red",fontSize:"20px"},children:["Game Over! ",0===t.Result?"Tigers Win!":"Goats Win!"]}),P&&(0,_.jsx)("p",{style:{color:"blue"},children:"Computer is thinking..."})]}),(0,_.jsx)("button",{onClick:function(){return B(0)},disabled:P,children:"Start (Computer as Tigers)"}),(0,_.jsx)("button",{onClick:function(){return B(1)},disabled:P,children:"Start (Computer as Goats)"}),(0,_.jsx)("button",{onClick:function(){return B(2)},disabled:P,children:"Computer vs Computer"}),(0,_.jsx)("button",{onClick:function(){H(),E(!1);var e=new y;r(e),S({pointer:0,states:[e]}),l(!1),d(-1),h(null),G.current&&(G.current.value="")},children:"Reset"}),(0,_.jsx)("textarea",{ref:G,readOnly:!0,style:{width:"100%",height:"100px"}})]})]})}},697:(e,t,n)=>{n.d(t,{A:()=>s});var r=n(601),o=n.n(r),i=n(314),a=n.n(i)()(o());a.push([e.id,".game-container {\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n}\n\n.board {\n  position: relative;\n  border: 2px solid black;\n}\n\n.board-img {\n  width: 100%;\n  height: 100%;\n}\n\n.piece {\n  position: absolute;\n  cursor: pointer;\n}\n\n.controls {\n  margin-top: 20px;\n  width: 500px;\n}\n\n\n.game-info {\n  margin-top: 10px;\n  padding: 10px;\n  background-color: #f4f4f4;\n  border-radius: 8px;\n  font-family: Arial, sans-serif;\n}\n",""]);const s=a},972:(e,t,n)=>{n.d(t,{A:()=>s});var r=n(601),o=n.n(r),i=n(314),a=n.n(i)()(o());a.push([e.id,"body {\n  font-family: Arial, Helvetica, sans-serif;\n}\n\n.container {\n  font-size: 3rem;\n  margin: auto;\n  max-width: 800px;\n  margin-top: 20px;\n}",""]);const s=a},314:e=>{e.exports=function(e){var t=[];return t.toString=function(){return this.map((function(t){var n="",r=void 0!==t[5];return t[4]&&(n+="@supports (".concat(t[4],") {")),t[2]&&(n+="@media ".concat(t[2]," {")),r&&(n+="@layer".concat(t[5].length>0?" ".concat(t[5]):""," {")),n+=e(t),r&&(n+="}"),t[2]&&(n+="}"),t[4]&&(n+="}"),n})).join("")},t.i=function(e,n,r,o,i){"string"==typeof e&&(e=[[null,e,void 0]]);var a={};if(r)for(var s=0;s<this.length;s++){var u=this[s][0];null!=u&&(a[u]=!0)}for(var l=0;l<e.length;l++){var c=[].concat(e[l]);r&&a[c[0]]||(void 0!==i&&(void 0===c[5]||(c[1]="@layer".concat(c[5].length>0?" ".concat(c[5]):""," {").concat(c[1],"}")),c[5]=i),n&&(c[2]?(c[1]="@media ".concat(c[2]," {").concat(c[1],"}"),c[2]=n):c[2]=n),o&&(c[4]?(c[1]="@supports (".concat(c[4],") {").concat(c[1],"}"),c[4]=o):c[4]="".concat(o)),t.push(c))}},t}},601:e=>{e.exports=function(e){return e[1]}},20:(e,t,n)=>{var r=n(914),o=Symbol.for("react.element"),i=(Symbol.for("react.fragment"),Object.prototype.hasOwnProperty),a=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,s={key:!0,ref:!0,__self:!0,__source:!0};function u(e,t,n){var r,u={},l=null,c=null;for(r in void 0!==n&&(l=""+n),void 0!==t.key&&(l=""+t.key),void 0!==t.ref&&(c=t.ref),t)i.call(t,r)&&!s.hasOwnProperty(r)&&(u[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps)void 0===u[r]&&(u[r]=t[r]);return{$$typeof:o,type:e,key:l,ref:c,props:u,_owner:a.current}}t.jsx=u,t.jsxs=u},848:(e,t,n)=>{e.exports=n(20)},647:(e,t,n)=>{var r=n(72),o=n.n(r),i=n(825),a=n.n(i),s=n(659),u=n.n(s),l=n(56),c=n.n(l),f=n(540),d=n.n(f),p=n(113),m=n.n(p),y=n(972),g={};g.styleTagTransform=m(),g.setAttributes=c(),g.insert=u().bind(null,"head"),g.domAPI=a(),g.insertStyleElement=d(),o()(y.A,g),y.A&&y.A.locals&&y.A.locals},72:e=>{var t=[];function n(e){for(var n=-1,r=0;r<t.length;r++)if(t[r].identifier===e){n=r;break}return n}function r(e,r){for(var i={},a=[],s=0;s<e.length;s++){var u=e[s],l=r.base?u[0]+r.base:u[0],c=i[l]||0,f="".concat(l," ").concat(c);i[l]=c+1;var d=n(f),p={css:u[1],media:u[2],sourceMap:u[3],supports:u[4],layer:u[5]};if(-1!==d)t[d].references++,t[d].updater(p);else{var m=o(p,r);r.byIndex=s,t.splice(s,0,{identifier:f,updater:m,references:1})}a.push(f)}return a}function o(e,t){var n=t.domAPI(t);return n.update(e),function(t){if(t){if(t.css===e.css&&t.media===e.media&&t.sourceMap===e.sourceMap&&t.supports===e.supports&&t.layer===e.layer)return;n.update(e=t)}else n.remove()}}e.exports=function(e,o){var i=r(e=e||[],o=o||{});return function(e){e=e||[];for(var a=0;a<i.length;a++){var s=n(i[a]);t[s].references--}for(var u=r(e,o),l=0;l<i.length;l++){var c=n(i[l]);0===t[c].references&&(t[c].updater(),t.splice(c,1))}i=u}}},659:e=>{var t={};e.exports=function(e,n){var r=function(e){if(void 0===t[e]){var n=document.querySelector(e);if(window.HTMLIFrameElement&&n instanceof window.HTMLIFrameElement)try{n=n.contentDocument.head}catch(e){n=null}t[e]=n}return t[e]}(e);if(!r)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");r.appendChild(n)}},540:e=>{e.exports=function(e){var t=document.createElement("style");return e.setAttributes(t,e.attributes),e.insert(t,e.options),t}},56:(e,t,n)=>{e.exports=function(e){var t=n.nc;t&&e.setAttribute("nonce",t)}},825:e=>{e.exports=function(e){if("undefined"==typeof document)return{update:function(){},remove:function(){}};var t=e.insertStyleElement(e);return{update:function(n){!function(e,t,n){var r="";n.supports&&(r+="@supports (".concat(n.supports,") {")),n.media&&(r+="@media ".concat(n.media," {"));var o=void 0!==n.layer;o&&(r+="@layer".concat(n.layer.length>0?" ".concat(n.layer):""," {")),r+=n.css,o&&(r+="}"),n.media&&(r+="}"),n.supports&&(r+="}");var i=n.sourceMap;i&&"undefined"!=typeof btoa&&(r+="\n/*# sourceMappingURL=data:application/json;base64,".concat(btoa(unescape(encodeURIComponent(JSON.stringify(i))))," */")),t.styleTagTransform(r,e,t.options)}(t,e,n)},remove:function(){!function(e){if(null===e.parentNode)return!1;e.parentNode.removeChild(e)}(t)}}}},113:e=>{e.exports=function(e,t){if(t.styleSheet)t.styleSheet.cssText=e;else{for(;t.firstChild;)t.removeChild(t.firstChild);t.appendChild(document.createTextNode(e))}}}}]);