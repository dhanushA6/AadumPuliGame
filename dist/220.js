(()=>{"use strict";var t={220:()=>{function t(t,r){(null==r||r>t.length)&&(r=t.length);for(var e=0,n=Array(r);e<r;e++)n[e]=t[e];return n}function r(r,e){if(r){if("string"==typeof r)return t(r,e);var n={}.toString.call(r).slice(8,-1);return"Object"===n&&r.constructor&&(n=r.constructor.name),"Map"===n||"Set"===n?Array.from(r):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?t(r,e):void 0}}function e(e){return function(r){if(Array.isArray(r))return t(r)}(e)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(e)||r(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function n(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,r){var e=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=e){var n,o,i,a,u=[],s=!0,l=!1;try{if(i=(e=e.call(t)).next,0===r){if(Object(e)!==e)return;s=!1}else for(;!(s=(n=i.call(e)).done)&&(u.push(n.value),u.length!==r);s=!0);}catch(t){l=!0,o=t}finally{try{if(!s&&null!=e.return&&(a=e.return(),Object(a)!==a))return}finally{if(l)throw o}}return u}}(t,e)||r(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function o(t,r){if(!(t instanceof r))throw new TypeError("Cannot call a class as a function")}function i(t){return i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},i(t)}function a(t){var r=function(t){if("object"!=i(t)||!t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var e=r.call(t,"string");if("object"!=i(e))return e;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"==i(r)?r:r+""}function u(t,r){for(var e=0;e<r.length;e++){var n=r[e];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,a(n.key),n)}}function s(t,r,e){return r&&u(t.prototype,r),e&&u(t,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function l(t,r){var e="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!e){if(Array.isArray(t)||(e=function(t,r){if(t){if("string"==typeof t)return f(t,r);var e={}.toString.call(t).slice(8,-1);return"Object"===e&&t.constructor&&(e=t.constructor.name),"Map"===e||"Set"===e?Array.from(t):"Arguments"===e||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(e)?f(t,r):void 0}}(t))||r&&t&&"number"==typeof t.length){e&&(t=e);var n=0,o=function(){};return{s:o,n:function(){return n>=t.length?{done:!0}:{done:!1,value:t[n++]}},e:function(t){throw t},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,u=!1;return{s:function(){e=e.call(t)},n:function(){var t=e.next();return a=t.done,t},e:function(t){u=!0,i=t},f:function(){try{a||null==e.return||e.return()}finally{if(u)throw i}}}}function f(t,r){(null==r||r>t.length)&&(r=t.length);for(var e=0,n=Array(r);e<r;e++)n[e]=t[e];return n}var c=[[2,3,4,5],[2,7],[0,1,3,8],[2,0,4,9],[3,0,5,10],[0,4,11,6],[5,12],[1,8,13],[2,7,14,9],[3,8,10,15],[9,4,11,16],[5,12,10,17],[6,11,18],[7,14],[13,8,15,19],[9,14,16,20],[10,15,17,21],[16,11,18,22],[12,17],[14,20],[15,19,21],[16,20,22],[17,21]],y=[[0,2,8],[0,3,9],[0,4,10],[0,5,11],[1,2,3],[1,7,13],[2,8,14],[2,3,4],[3,9,15],[3,4,5],[3,2,1],[4,3,2],[4,5,6],[4,10,16],[5,4,3],[5,11,17],[6,5,4],[6,12,18],[7,8,9],[8,9,10],[8,2,0],[8,14,19],[9,8,7],[9,10,11],[9,3,0],[9,15,20],[10,4,0],[10,9,8],[10,11,12],[10,16,21],[11,10,9],[11,5,0],[11,17,22],[12,11,10],[13,7,1],[13,14,15],[14,8,2],[14,15,16],[15,14,13],[15,16,17],[15,9,3],[16,15,14],[16,10,4],[16,17,18],[17,16,15],[17,11,5],[18,12,6],[18,17,16],[19,14,8],[19,20,21],[20,15,9],[20,21,22],[21,20,19],[21,16,10],[22,21,20],[22,17,11]],h=function(){function t(){o(this,t),this.SideToPlay=1,this.OutsideGoats=15,this.CapturedGoats=0,this.CurrentPosition=["T","E","E","T","T","E","E","E","E","E","E","E","E","E","E","E","E","E","E","E","E","E","E"],this.Hash=0,this.Result=-1}return s(t,[{key:"getLegalActions",value:function(){var t=this,r=[];return 1===this.SideToPlay?this.OutsideGoats>0?this.CurrentPosition.forEach((function(t,e){"E"===t&&r.push([-1,-1,e])})):this.CurrentPosition.forEach((function(e,n){if("G"===e){var o,i=l(c[n]);try{for(i.s();!(o=i.n()).done;){var a=o.value;"E"===t.CurrentPosition[a]&&r.push([n,-1,a])}}catch(t){i.e(t)}finally{i.f()}}})):this.CurrentPosition.forEach((function(e,n){if("T"===e){for(var o=0,i=y;o<i.length;o++){var a=i[o];a[0]===n&&"G"===t.CurrentPosition[a[1]]&&"E"===t.CurrentPosition[a[2]]&&r.push(a)}var u,s=l(c[n]);try{for(s.s();!(u=s.n()).done;){var f=u.value;"E"===t.CurrentPosition[f]&&r.push([n,-1,f])}}catch(t){s.e(t)}finally{s.f()}}})),r}},{key:"generateSuccessor",value:function(r,n){var o,i=new t;if(i.OutsideGoats=this.OutsideGoats,i.Result=this.Result,i.SideToPlay=(this.SideToPlay+1)%2,i.CurrentPosition=e(this.CurrentPosition),i.CapturedGoats=null!==(o=this.CapturedGoats)&&void 0!==o?o:0,-1===r[0])i.OutsideGoats--,i.CurrentPosition[r[2]]="G";else{var a=i.CurrentPosition[r[0]];i.CurrentPosition[r[0]]="E",i.CurrentPosition[r[2]]=a,-1!==r[1]&&(i.CurrentPosition[r[1]]="E",i.CapturedGoats++)}var u=i.OutsideGoats;i.CurrentPosition.forEach((function(t){"G"===t&&u++})),0===u?i.Result=0:0===i.getLegalActions().length&&(i.Result=this.SideToPlay),i.Hash=i.CurrentPosition.reduce((function(t,r){return 4*t+("T"===r?2:"G"===r?1:0)}),0),i.Hash=2*(4*i.Hash+i.OutsideGoats)+i.SideToPlay;for(var s=0,l=n.Pointer-1;l>=0;l--)if(n.InternalArray[l].Hash===i.Hash&&s++,s>1){i.Result=2;break}return i}}])}(),v=function(){return s((function t(){var r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:500;o(this,t),this.InternalArray=new Array(r),this.Pointer=0}),[{key:"push",value:function(t){this.InternalArray[this.Pointer++]=t}},{key:"pop",value:function(){return this.InternalArray[--this.Pointer]}}])}(),d=function(){return s((function t(){o(this,t),this.Index=0,this.History=new v}),[{key:"evaluate",value:function(t,r,e){var n=function(t){return 0===e?t:-t};if(0===t.Result)return n(1e4);if(1===t.Result)return n(-1e4);if(2===t.Result)return-5e3;var o=-4*t.OutsideGoats,i=0,a=0;return r.forEach((function(t){return t[1]>-1?i++:a++})),0===t.SideToPlay?o+=a+2*i:t.CurrentPosition.forEach((function(r,e){"T"===r&&(c[e].forEach((function(r){"E"===t.CurrentPosition[r]&&o++})),y.forEach((function(r){r[0]===e&&"G"===t.CurrentPosition[r[1]]&&"E"===t.CurrentPosition[r[2]]&&(o+=2)})))})),n(o)}},{key:"getAction",value:function(t){for(var r=this,e=function(t,o,i,a,u){if(r.History.push(t),0===o||-1!==t.Result)return r.History.pop(),[r.evaluate(t,t.getLegalActions(),i),null];var s,f=t.getLegalActions(),c=f[0],y=i===r.Index?-1/0:1/0,h=l(f);try{for(h.s();!(s=h.n()).done;){var v=s.value,d=t.generateSuccessor(v,r.History),p=n(e(d,o-1,(i+1)%2,a,u),1)[0];if(i===r.Index?(p>y&&(y=p,c=v),a=Math.max(a,y)):(p<y&&(y=p,c=v),u=Math.min(u,y)),u<=a)break}}catch(t){h.e(t)}finally{h.f()}return r.History.pop(),[y,c]},o=null,i=1;;i++){var a=n(e(t,i,this.Index,-1/0,1/0),2),u=a[0],s=a[1];if(!s)break;if(o=s,"undefined"!=typeof self&&self.postMessage&&self.postMessage([u,s,i,0,0]),u>1e3||-1!==t.Result)break}return o}}])}();function p(t){var r,n=new h;return n.SideToPlay=t.SideToPlay,n.CurrentPosition=e(t.CurrentPosition),n.OutsideGoats=t.OutsideGoats,n.CapturedGoats=null!==(r=t.CapturedGoats)&&void 0!==r?r:0,n.Result=t.Result,n.Hash=t.Hash||0,n}self.onmessage=function(t){var r,e=n(t.data,4),o=e[0],i=e[1],a=e[2],u=e[3];if("alphabetawithmemory"===i.toLowerCase()){(r=new d).Index=a,r.History=new v(500);for(var s=0;s<u.Pointer;s++)r.History.push(p(u.InternalArray[s]));var l=r.getAction(p(o));self.postMessage(l)}else self.postMessage([0,[-1,-1,-1],0,0,0])}}},r={};function e(n){var o=r[n];if(void 0!==o)return o.exports;var i=r[n]={exports:{}};return t[n](i,i.exports,e),i.exports}e.m=t,e.c=r,e.o=(t,r)=>Object.prototype.hasOwnProperty.call(t,r),(()=>{e.S={};var t={},r={};e.I=(n,o)=>{o||(o=[]);var i=r[n];if(i||(i=r[n]={}),!(o.indexOf(i)>=0)){if(o.push(i),t[n])return t[n];e.o(e.S,n)||(e.S[n]={}),e.S[n];var a=[];return t[n]=a.length?Promise.all(a).then((()=>t[n]=1)):1}}})(),e(220)})();